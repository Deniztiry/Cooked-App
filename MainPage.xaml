<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:Cooked_App"
             x:Class="Cooked_App.MainPage"
             BackgroundColor="#13181C">

    <ContentPage.Resources>
        <ResourceDictionary>
            <!-- Konverter f체r die Anzeige der gef체llten Kreise -->
            <local:DifficultyToCircleCountConverter x:Key="DifficultyToCircleCountConverter" />
        </ResourceDictionary>
    </ContentPage.Resources>

    <VerticalStackLayout Padding="20">
        <!-- Suchfeld -->
        <Border Stroke="#FD5F28" StrokeThickness="2" BackgroundColor="#13181C">
            <Entry Placeholder="Suche ein Rezept" BackgroundColor="#13181C" TextColor="#FFFFFF" />
        </Border>

        <!-- Rezepte anzeigen -->
        <CollectionView x:Name="RecipesCollectionView">
            <CollectionView.ItemsLayout>
                <GridItemsLayout Orientation="Vertical" Span="2" />
            </CollectionView.ItemsLayout>

            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <StackLayout Padding="10" Spacing="10" BackgroundColor="#13181C">
                        <!-- Bild des Rezepts -->
                        <Frame CornerRadius="10" HasShadow="False" Padding="0">
                            <Image Source="{Binding ImageUrl}" HeightRequest="150" Aspect="AspectFill" />
                        </Frame>

                        <!-- Titel des Rezepts und Schwierigkeitsgrad -->
                        <StackLayout Orientation="Horizontal" HorizontalOptions="Center" Spacing="10">
                            <Label Text="{Binding Title}" FontSize="16" TextColor="#FFFFFF" VerticalOptions="Center" />
                            <StackLayout Orientation="Horizontal" Spacing="5">
                                <!-- Kreise mit orangefarbener F체llung, abh채ngig von der Schwierigkeit -->
                                <Frame CornerRadius="50" WidthRequest="10" HeightRequest="10" BackgroundColor="#FD5F28"
       IsVisible="{Binding Difficulty, Converter={StaticResource DifficultyToCircleCountConverter}, ConverterParameter=1}" />
                                <Frame CornerRadius="50" WidthRequest="10" HeightRequest="10" BackgroundColor="#FD5F28"
       IsVisible="{Binding Difficulty, Converter={StaticResource DifficultyToCircleCountConverter}, ConverterParameter=2}" />
                                <Frame CornerRadius="50" WidthRequest="10" HeightRequest="10" BackgroundColor="#FD5F28"
       IsVisible="{Binding Difficulty, Converter={StaticResource DifficultyToCircleCountConverter}, ConverterParameter=3}" />

                            </StackLayout>
                        </StackLayout>
                    </StackLayout>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
    </VerticalStackLayout>
</ContentPage>
